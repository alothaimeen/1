<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .main-container { max-width: 800px; width: 100%; }
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            transition: all 0.3s ease-in-out;
        }
        .card-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 1.5rem;
            border-bottom: none;
        }
        .card-header h2 { font-weight: 900; }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            font-weight: 700;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
        }
        .form-control {
            border-radius: 50px;
            padding: 0.75rem 1.5rem;
            text-align: center;
        }
        .form-control:focus {
            box-shadow: 0 0 0 0.25rem rgba(0, 123, 255, 0.25);
            border-color: #80bdff;
        }
        #error-message { display: none; font-weight: 700; }
        #result-container { display: none; }
        .list-group-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: none;
            border-right: none;
        }
        .list-group-item:first-child { border-top-left-radius: 0; border-top-right-radius: 0; }
        .list-group-item strong { color: #333; }
        .badge { font-size: 1rem; padding: 0.5em 0.8em; }
        .special-message-card {
            margin-top: 1.5rem;
            text-align: center;
            background-color: #e9f5ff;
            border: 1px solid #bde0fe;
        }
        .special-message { font-size: 1.75rem; font-weight: 900; color: #0056b3; }
        .special-details { font-size: 1.1rem; color: #333; line-height: 1.8; }
        .welcome-message {
            background-color: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            line-height: 1.9;
            font-size: 1.1rem;
            color: #343a40;
        }
        .welcome-message .teacher-name {
            font-weight: bold;
            font-size: 1.2rem;
            margin-top: 1rem;
            display: block;
            text-align: left;
        }
    </style>
</head>
<body>

    <div class="main-container">
        <div class="welcome-message">
            <p>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø£Ø¹Ø²Ø§Ø¦ÙŠ Ø§Ù„Ø·Ù„Ø§Ø¨ ğŸŒŸØŒ</p>
            <p>Ø³Ø¹ÙŠØ¯ÙŒ Ø¬Ø¯Ù‹Ø§ Ø¨Ù…Ø§ Ø¨Ø°Ù„ØªÙ…ÙˆÙ‡ Ù…Ù† Ø¬Ù‡Ø¯ Ø·ÙˆØ§Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØŒ ÙˆÙ‚Ø¯ ÙƒØ§Ù† Ù„ÙŠ Ø´Ø±Ù ØªØ¹Ù„ÙŠÙ…ÙƒÙ… ÙˆÙ…ØªØ§Ø¨Ø¹Ø© ØªÙ‚Ø¯Ù…ÙƒÙ… ÙŠÙˆÙ…Ù‹Ø§ Ø¨ÙŠÙˆÙ…. Ø£Ù†ØªÙ… Ø§Ù„Ø¢Ù† Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø«Ø§Ù†ÙˆÙŠØŒ ÙˆØ£ØªÙ…Ù†Ù‰ Ø£Ù† ØªÙƒÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙŠ ØªØ´Ø§Ù‡Ø¯ÙˆÙ†Ù‡Ø§ Ø§Ù„ÙŠÙˆÙ… Ø®Ø·ÙˆØ© Ø¬Ø¯ÙŠØ¯Ø© Ù†Ø­Ùˆ Ù…Ø³ØªÙ‚Ø¨Ù„ Ø¨Ø§Ù‡Ø± Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„ØªÙÙˆÙ‚.</p>
            <p>Ø£ÙŠÙ‹Ø§ ÙƒØ§Ù†Øª Ù†ØªÙŠØ¬ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŒ ÙØ§Ø¹Ù„Ù… Ø£Ù† Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ùˆ Ø§Ø³ØªÙ…Ø±Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù… ÙˆØ§Ù„ØªØ·ÙˆØ± ÙˆØ¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªØ³Ù„Ø§Ù… Ù„Ø£ÙŠ Ø¹Ù‚Ø¨Ø§Øª ØªÙˆØ§Ø¬Ù‡Ùƒ. Ø£Ø«Ù‚ Ø¨Ù‚Ø¯Ø±Ø§ØªÙƒÙ… ÙˆØ£ØªÙ…Ù†Ù‰ Ù„ÙƒÙ… ÙƒÙ„ Ø§Ù„ØªÙˆÙÙŠÙ‚!</p>
            <span class="teacher-name">ğŸŒŸ Ø£Ø³ØªØ§Ø°ÙƒÙ… Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ø«ÙŠÙ…ÙŠÙ†</span>
        </div>

        <div class="card" id="input-card">
            <div class="card-body p-4 p-md-5 text-center">
                <h3 class="mb-4">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h3>
                <div class="input-group mb-3">
                    <input type="number" class="form-control form-control-lg" id="student-id" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©" aria-label="Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©">
                </div>
                <button class="btn btn-primary btn-lg" id="submit-btn">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
                <div class="alert alert-danger mt-4" id="error-message">
                    âš ï¸ Ø§Ù„Ø±Ù‚Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­ØªÙ‡ ÙˆØ£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.
                </div>
            </div>
        </div>

        <div id="result-container" class="mt-4">
            <div class="card">
                <div class="card-header text-center">
                    <h2 id="student-name"></h2>
                </div>
                <div class="card-body p-0">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>Ø§Ù„ØºÙŠØ§Ø¨</strong> <span id="absence"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª (Ù…Ù† 10)</strong> <span id="homework"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø¨Ø­Ø« (Ù…Ù† 10)</strong> <span id="research"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØµÙÙŠØ© (Ù…Ù† 10)</strong> <span id="activities"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© (Ù…Ù† 10)</strong> <span id="participation"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ (Ù…Ù† 10)</strong> <span id="written_test"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø´ÙÙˆÙŠØ© (Ù…Ù† 10)</strong> <span id="oral_tests"></span></li>
                        <li class="list-group-item list-group-item-secondary"><strong>Ù…Ø¬Ù…ÙˆØ¹ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ù†Ø© (Ù…Ù† 60)</strong> <span id="year_work_total" class="fw-bold"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´ÙÙˆÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ù† 10)</strong> <span id="final_oral_exam"></span></li>
                        <li class="list-group-item"><strong>Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ (Ù…Ù† 30)</strong> <span id="final_written_exam"></span></li>
                        <li class="list-group-item list-group-item-primary"><strong>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ù…Ù† 100)</strong> <span id="final_total" class="fw-bold fs-5"></span></li>
                        <li class="list-group-item"><strong>Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨</strong> <span id="status" class="badge"></span></li>
                    </ul>
                </div>
            </div>
            
            <div class="card special-message-card">
                <div class="card-body p-4">
                    <p class="special-message" id="special-message-text"></p>
                    <div class="special-details" id="special-details-text"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const submitBtn = document.getElementById('submit-btn');
            const studentIdInput = document.getElementById('student-id');
            const errorContainer = document.getElementById('error-message');
            const resultContainer = document.getElementById('result-container');
            const inputCard = document.getElementById('input-card');

            submitBtn.addEventListener('click', function () {
                const studentId = studentIdInput.value;
                if (!studentId) {
                    alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©.');
                    return;
                }

                fetch('students.json')
                    .then(response => {
                        if (!response.ok) { throw new Error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨.'); }
                        return response.json();
                    })
                    .then(data => {
                        const student = data.find(s => String(s['Ø§Ù„Ù‡ÙˆÙŠØ©']) === studentId);

                        if (student) {
                            displayStudentData(student);
                            errorContainer.style.display = 'none';
                        } else {
                            resultContainer.style.display = 'none';
                            errorContainer.style.display = 'block';
                        }
                    })
                    .catch(error => {
                        console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                        errorContainer.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                        errorContainer.style.display = 'block';
                    });
            });
            
            studentIdInput.addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    submitBtn.click();
                }
            });

            function displayStudentData(student) {
                document.getElementById('student-name').textContent = student['Ø§Ù„Ø·Ø§Ù„Ø¨'];
                document.getElementById('absence').textContent = student['Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ØºÙŠØ§Ø¨'];
                document.getElementById('homework').textContent = student['Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª'];
                document.getElementById('research').textContent = student['Ø§Ù„Ø¨Ø­Ø«'];
                document.getElementById('activities').textContent = student['Ù†Ø´Ø§Ø· ÙˆØªØ·Ø¨ÙŠÙ‚Ø§Øª ØµÙÙŠØ©'];
                document.getElementById('participation').textContent = student['Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©'];
                document.getElementById('written_test').textContent = student['Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ'];
                document.getElementById('oral_tests').textContent = student['Ø§Ù„Ø´ÙÙˆÙŠ'];
                document.getElementById('year_work_total').textContent = student['Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹'];
                document.getElementById('final_oral_exam').textContent = student['Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ø´ÙÙˆÙŠ'];
                document.getElementById('final_written_exam').textContent = student['Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ'];
                document.getElementById('final_total').textContent = student['Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ'];
                
                const statusSpan = document.getElementById('status');
                const studentResultText = student['Ø§Ù„Ù†ØªÙŠØ¬Ø©'];
                let statusText = '';
                statusSpan.className = 'badge'; 

                if (studentResultText.includes('Ø§Ø¬ØªØ²Øª Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ø¬Ø¯Ø§Ø±Ø©')) {
                    statusText = 'Ù†Ø§Ø¬Ø­';
                    statusSpan.classList.add('bg-success');
                } else if (studentResultText.includes('ØªÙ…Øª Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ')) {
                    statusText = 'Ù†Ø§Ø¬Ø­ Ø¨Ù…Ø³Ø§Ø¹Ø¯Ø©';
                    statusSpan.classList.add('bg-warning', 'text-dark');
                } else if (studentResultText.includes('Ù„Ù… ØªØ¬ØªØ²')) {
                    statusText = 'Ù„Ù… ÙŠØ¬ØªØ²';
                    statusSpan.classList.add('bg-danger');
                }
                statusSpan.textContent = statusText;

                document.getElementById('special-message-text').textContent = studentResultText;
                
                let detailsText = `<p>${student['Ø§Ù„Ø±Ø³Ø§Ù„Ø©']}</p>`;

                if (statusText === 'Ù„Ù… ÙŠØ¬ØªØ²') {
                    const currentScore = (student['Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©'] || 0) + (student['Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª'] || 0) + (student['Ù†Ø´Ø§Ø· ÙˆØªØ·Ø¨ÙŠÙ‚Ø§Øª ØµÙÙŠØ©'] || 0) + (student['Ø§Ù„Ø¨Ø­Ø«'] || 0);
                    const neededScore = 50 - currentScore;
                    
                    let dynamicMessage = `<p>Ø§Ù†ØªØ¨Ù‡ Ø¬ÙŠØ¯Ù‹Ø§: Ø³ÙŠÙ‚ÙˆÙ… Ù†Ø¸Ø§Ù… Ù†ÙˆØ± Ø¨Ø¥Ø²Ø§Ù„Ø© Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªØ­Ø±ÙŠØ±ÙŠØ© ÙˆØ§Ù„Ø´ÙÙˆÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŒ ÙˆØ§Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø§ØªÙƒ ÙÙŠ (Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©ØŒ Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§ØªØŒ Ø§Ù„Ù†Ø´Ø§Ø·ØŒ Ø§Ù„Ø¨Ø­Ø«) ÙˆØ§Ù„ØªÙŠ ÙŠØ¨Ù„Øº Ù…Ø¬Ù…ÙˆØ¹Ù‡Ø§ Ø§Ù„Ø¢Ù† ${currentScore} Ø¯Ø±Ø¬Ø©. ÙˆØ¹Ù„ÙŠÙƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ${Math.max(0, neededScore)} Ù…Ù† Ø£ØµÙ„ 60 ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø§Ø¯Ù… Ù„ØªØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØªØ®Ø·ÙŠ Ø§Ù„Ù…Ø§Ø¯Ø©. Ù„Ø§ ØªÙŠØ£Ø³ØŒ Ø§Ù„ÙØ±ØµØ© Ø£Ù…Ø§Ù…Ùƒ Ù…ØªØ§Ø­Ø© ÙˆÙˆØ§Ø¶Ø­Ø© Ø¬Ø¯Ù‹Ø§ØŒ Ø£Ø«Ù‚ Ø¨Ù‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø§Ø¬ØªÙŠØ§Ø²Ù‡Ø§.</p>`;
                    
                    dynamicMessage += `<hr class="my-4">`;
                    dynamicMessage += `<p class="fw-bold">ÙˆÙ„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆÙ…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</p>`;
                    dynamicMessage += `<a href="https://alothaimeen.github.io/megagoal1/guide.html" class="btn btn-success mt-2" target="_blank" rel="noopener noreferrer">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</a>`;

                    detailsText = dynamicMessage;
                }

                document.getElementById('special-details-text').innerHTML = detailsText;

                inputCard.style.display = 'none';
                resultContainer.style.display = 'block';
            }
        });
    </script>

</body>
</html>
